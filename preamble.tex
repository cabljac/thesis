\documentclass[12pt,twoside]{muthesis}

  %% this block is for solitons tables

\usepackage[ruled,vlined]{algorithm2e}

\usepackage{listings}
\renewcommand{\thefigure}{\arabic{figure}} 

\usepackage{pdflscape}  % this block for appendix A
\usepackage{tabularx}
\newcommand{\tfl}{0.75}
\newcommand*\colvec[1]{\begin{pmatrix}#1\end{pmatrix}}
\usepackage{float}


\usepackage{pgfplots}

\usepackage{amsmath}
\usepackage{amsthm}

\newcounter{nmdthmcnt}
\newenvironment{namedthm}[2][]{\addtocounter{nmdthmcnt}{1}%
    \theoremstyle{plain}\newtheorem*{nmdthm\roman{nmdthmcnt}}{#2}%
    \begin{nmdthm\roman{nmdthmcnt}}[#1]}{\end{nmdthm\roman{nmdthmcnt}}}

  
\usepackage{cite}
\usepackage{amscd,amssymb,amsmath,nccmath,microtype}
\usepackage{calligra,mathrsfs}
\usepackage{graphicx}

\newcommand\scalemath[2]{\scalebox{#1}{\mbox{\ensuremath{\displaystyle #2}}}}

\usepackage[hyphens]{url}
\usepackage{hyperref}
\usepackage{changepage}
\usepackage{caption}
\usepackage{listings}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{nicefrac}
\usepackage{stmaryrd}


\usepackage[hyphens]{url}
\usepackage{hyperref}
\PassOptionsToPackage{gray}{xcolor}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{longtable}


\usepackage{multirow}
\usepackage{hyperref}
\usepackage{subcaption} 
\usepackage{mathtools}
\usepackage[draft,multiuser,layout={margin,index}]{fixme}
\usepackage{pifont}


\usepackage{tikz-cd}

\usepackage{pgfplots}
\usetikzlibrary{patterns}


\usepackage{tikz-3dplot}
\tdplotsetmaincoords{70}{110}

\usepackage{subcaption}

\usetikzlibrary{shapes.geometric}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\usetikzlibrary{patterns}






\newtheorem*{ttheorem}{Tian's criterion}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{construction}{Construction}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{remark}{Remark}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}


\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\pt}{\{\mathbf{pt}\}}
\renewcommand{\Vert}{\mathcal{V}}
\newcommand{\Hor}{\mathcal{H}}
%\newcommand{\QGIT}{/^{^{\mathsf{GIT}}}}
\newcommand{\QGIT}{{\!/\!\!/}}
\newcommand{\tXn}{{\widetilde{X}^\circ}}
\newcommand{\Xn}{{X^\circ}}
\newcommand{\tX}{{\widetilde{X}}}
\newcommand{\tD}{{\widetilde{D}}}
\newcommand{\tL}{{\widetilde{\L}}}
\newcommand{\T}{{\mathcal{T}}}
\newcommand{\tY}{{\widetilde{Y}}}
\newcommand{\CC}{\mathbb{C}}
\renewcommand{\L}{\mathcal{L}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\m}{\mathfrak{m}}
\newcommand{\lin}[1]{\text{span}\,(#1)}
\newcommand{\equivn}{{\stackrel{\scriptscriptstyle\text{num}}{\sim}}}
\newcommand{\KK}{k}
\newcommand{\xx}{\mathrm{x}}

\newcommand{\savefootnote}[2]{\footnote{\label{#1}#2}}
\newcommand{\repeatfootnote}[1]{\textsuperscript{\ref{#1}}}

\newcommand{\fan}{\Xi}
\newcommand{\CO}{{\mathcal{O}}}
\newcommand{\f}{{\mathfrak{f}}}
\newcommand{\h}{{\mathfrak{h}}}
\newcommand{\cA}{{\mathcal{A}}}
\newcommand{\X}{{\mathcal{X}}}
\newcommand{\Y}{{\mathcal{Y}}}
\newcommand{\Z}{{\mathcal{Z}}}
\newcommand{\D}{{\mathfrak{D}}}
\newcommand{\R}{{\mathcal{R}}}
\newcommand{\bphi}{\bar \Phi}
\newcommand{\sufficient}{valuable }
\renewcommand{\O}{\mathcal{O}}
\renewcommand{\div}{\text{div}}
\DeclareMathOperator{\TV}{TV}
\DeclareMathOperator{\barycenter}{bary}
\DeclareMathOperator{\DF}{DF}
\DeclareMathOperator{\Sl}{Sl}
\DeclareMathOperator{\GIT}{GIT}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Bl}{Bl}
\DeclareMathOperator{\Loc}{Loc}
\DeclareMathOperator{\ray}{ray}
\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\NE}{NE}
\DeclareMathOperator{\face}{face}
\DeclareMathOperator{\quot}{Quot}
\DeclareMathOperator{\rk}{rank}
\DeclareMathOperator{\relint}{relint}
\DeclareMathOperator{\tail}{tail}
\DeclareMathOperator{\SF}{SF}
\DeclareMathOperator{\tcadiv}{T-CaDiv}
\DeclareMathOperator{\tdiv}{T-Div}
\DeclareMathOperator{\PD}{PD}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\divisor}{div}
\DeclareMathOperator{\cadiv}{CaDiv}
\DeclareMathOperator{\wdiv}{Div}
\DeclareMathOperator{\pic}{Pic}
\DeclareMathOperator{\spec}{Spec}
\DeclareMathOperator{\proj}{Proj}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Pol}{Pol}
\DeclareMathOperator{\loc}{Loc}
\DeclareMathOperator{\SPEC}{\mathbf{Spec}}
\DeclareMathOperator{\conv}{conv}
\DeclareMathOperator{\pos}{pos}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\cl}{Cl}
\DeclareMathOperator{\num}{NS}
\DeclareMathOperator{\syz}{Rel}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\lct}{g\bf{lct}}
\DeclareMathOperator{\init}{in}
\DeclareMathOperator{\numq}{NS_{\hspace{.2pt}\QQ}}
\DeclareMathOperator{\Div}{div}
\DeclareMathOperator{\Cox}{Cox}
\DeclareMathOperator{\Cl}{Cl}
\DeclareMathOperator{\Ric}{Ric}
\DeclareMathOperator{\PGL}{PGL}
\DeclareMathOperator{\glct}{glct}
\DeclareMathOperator{\orb}{orb}




\providecommand{\Ric}{\mathop{\rm Ric}\nolimits}
\providecommand{\bc}{\mathop{\rm bc}\nolimits}
\providecommand{\Aut}{\mathop{\rm Aut}\nolimits}
\providecommand{\DF}{\mathop{\rm DF}\nolimits}

\providecommand{\inte}{\text{int}}
\renewcommand{\L}{\mathcal{L}}
\providecommand{\vol}{\mathop{\rm vol}\nolimits}

\def\momentdiagram{
\begin{tikzpicture}[scale = 1]
\draw (-2,1) -- (-3,0) -- (-3,0) -- (0,-3) -- (3,0) -- (2,1) -- cycle ;
\filldraw[ultra thick, opacity = 1] (0,-6/23) circle (1pt) node[below]{$\bc_\nu(\Box)$}  -- (0,0) circle (1pt) node[right]{O} -- (0, 1) circle (1pt) node[above]{q}	 ; 
    \draw[dotted] (-4,0) -- (4,0);
    \draw[dotted] (0,-4) -- (0,2);
\end{tikzpicture}
}


\def\degendiagram{
\begin{tikzpicture}[%
    tdplot_main_coords,scale=1,
    >=stealth
  ]
  \draw[->, ultra thick, opacity = 1] (0, 18/46, -57/184)  -- (0, 0.6, -1.1) node[right]{$n_1$} ;
    \draw[fill=white,opacity=1] (0,-3,1) -- (-3,0,1) -- (3,0,-2) -- cycle;
    \draw[fill=white,opacity=0] (3,0,-2) -- (-3,0,1) -- (-2,1,1) -- (2,1,-1) -- cycle;
    \filldraw[ultra thick, opacity = 1] (0, -6/23, 19/92) circle (1pt) node[above]{$\bc(\Delta_1)$}  -- (0,0,0) circle (1pt) node[below]{O} -- (0, 18/46, -57/184) circle (1pt) node[right]{$q_1$}	 ;
    \draw[fill=white,opacity=0.5] (0,-3,1) -- (-3,0,1) -- (-2,1,1) -- (0,1,1) -- cycle;
    \draw[fill=white,opacity=0.5] (0,-3,1) -- (0,1,1) -- (2,1,-1) -- (3,0,-2) -- cycle;
    \draw[fill=white,opacity=0.5] (0,1,1) -- (-2,1,1) -- (2,1,-1) -- cycle;
     \draw[->,dotted] (0,0,0) -- (0,0,2);
    \draw[->,dotted] (0,0,0) -- (3,0,0);
    \draw[->,dotted] (0,0,0) -- (0,2,0);
\end{tikzpicture}
}


\def\diagram1{

\definecolor{wrwrwr}{rgb}{0.380,0.380,0.380}
\definecolor{rvwvcq}{rgb}{0.082,0.396,0.752}

\begin{tikzpicture}[scale=0.6,line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm]
\clip(-8.693,-6.851) rectangle (12.217,5.977);
\fill[line width=0.4pt,color=rvwvcq,fill=rvwvcq,fill opacity=0.1000] (3.95,-3.22) -- (-4.499,-0.465) -- (-4.021,1.710) -- (3.801,3.946) -- (9.206,2.697) -- (7.162,-1.310) -- cycle;
\draw [line width=0.4pt,color=wrwrwr] (-4.499,-0.465)-- (-4.021,1.710);
\draw [line width=0.4pt,color=wrwrwr] (-4.021,1.710)-- (3.801,3.946);
\draw [line width=0.4pt,color=wrwrwr] (-4.499,-0.465)-- (3.95,-3.22);
\draw [line width=0.4pt,color=wrwrwr] (2.437,0.786)-- (-16.628,-10.065);
\draw [line width=0.4pt,color=rvwvcq] (3.95,-3.22)-- (-4.499,-0.465);
\draw [line width=0.4pt,color=rvwvcq] (-4.499,-0.465)-- (-4.0213,1.710);
\draw [line width=0.4pt,color=rvwvcq] (-4.0213,1.710)-- (3.801,3.946);
\draw [line width=0.4pt,color=rvwvcq] (3.801,3.946)-- (9.206,2.697);
\draw [line width=0.4pt,color=rvwvcq] (9.206,2.697)-- (7.162,-1.310);
\draw [line width=0.4pt,color=rvwvcq] (7.162,-1.310)-- (3.95,-3.22);
\draw [line width=0.4pt,color=wrwrwr] (-4.499,-0.465)-- (-6.070,-0.590);
\draw [line width=0.4pt,color=wrwrwr,domain=-8.693:12.217] plot(\x,{(-7.125-1.570*\x)/0.124});
\draw [line width=0.4pt,color=wrwrwr] (-0.274,-1.842)-- (-0.623,-2.911);
\draw (2.430,1.084) node[anchor=north west] {$b$};
\draw (-4.295,-2.746) node[anchor=north west] {$p_w$};
\draw (-2,-1.4) node[anchor=north west] {$q$};
\draw (-0.65,-2.471) node[anchor=north west] {$n$};
\draw (-8.3,4) node[anchor=north west] {$\Pi(w,a)$};
\draw [->,line width=0.05pt,color=wrwrwr] (-0.274,-1.842) -- (-0.623,-2.911);
\draw [->,line width=0.05pt,color=wrwrwr] (-4.499,-0.465) -- (-6.070,-0.590);
\draw (-6.329,-0.505) node[anchor=north west] {$w$};
\draw (-0.208,2.037) node[anchor=north west] {$\Huge{P}$};
\draw (-0.464,-0.565) node[anchor=north west] {$O$};
\draw (-4.533,0.2) node[anchor=north west] {$a$};
\begin{scriptsize}
\draw [fill=wrwrwr] (-4.499,-0.465) circle (1.5pt);
\draw [fill=wrwrwr] (-0.467,-0.866) circle (1.5pt);
\draw [fill=wrwrwr] (2.437,0.786) circle (1.5pt);
\draw [fill=wrwrwr] (-4.294,-3.045) circle (2pt);
\draw [fill=wrwrwr] (-1.487,-1.447) circle (1.5pt);
\end{scriptsize}
\end{tikzpicture}
}